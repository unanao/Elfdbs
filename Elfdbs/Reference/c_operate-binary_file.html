
<html>
<head>
<meta http-equiv="Content-Type"	content="text/html;	charset=gb2312">
<meta name="robots"	content="index,follow">
<meta name="keywords" content="blog,bbs,board,php,mysql,forums">
<title>西北忆痕(northwest memory) -  -   blog of oss.lzu.edu.cn</title> 
<link rel="alternate" href="http://oss.lzu.edu.cn/blog/rss.php?uid=7" type="application/rss+xml" title="RSS 2.0">
<base href="http://oss.lzu.edu.cn/blog/">
<style>
body{
	font-family: verdana,arial,helvetica;
	font-size: 12px;
	margin:0;
	text-align:center;
	background:	#c0c0c0 url();
}
form{
	margin:0px;
	display:inline;
}
td{
	border-right:1px;
	border-top:	0px;
	font-size: 9pt;
	color: #666666;
}
textarea,input,object{
	font-family: Tahoma, Verdana;
	font-size: 12px;
	color: #000000;
	font-weight:normal;
	background-color:#FFFFFF;
}
a{
	color: #666666;
	text-decoration: none;
	line-height: 160%;
}
a:hover{
	color: #FF0000;
	text-decoration: none;
}
img{
	border:0;
}

#main{
	background:#c0c0c0 url();
	margin: auto;
}
#tbody{
	width:900;
	background:#ffffff url();
	margin: auto;
	border:0 solid ;
}
#head{
	width:96%;
	padding:6px;
	margin: auto;
	color:#000000;
}
#head a{
	color:#000000;
}
#head_left{
	width:70%;
	float:left;
	text-align:left;
	font-weight:bold;
	font-size:30px;
}
#head_right{
	width:30%;
	float:right;
	font-size: 11px;
	text-align:right;
	font-weight: normal;
}
#headlogo{
	width:96%;
	height:130px;
	margin: auto;
	background:url();
}
#dir{
	width:96%;
	padding:3px;
	text-align:left;
	color:#000000;
	margin: auto;
	background:#C5D5FC	url();
}
#dir a{
	color:#000000;
}
#body{
	width:96%;
	color:#000000;
	text-align:left;
	margin: auto;
	padding:6px;
}
#list{
	width:73%;
	float:left;
	font-weight:normal;
	color:#373737;
	text-align:left;
}
#title{
	width:100%;
	color:#1a6ab6;
	text-align:left;
	vertical-align:middle;
}
#title a{
	color:#1a6ab6;
}
#title .subject{
	color:#1a6ab6;
	font-size:17px;
	font-weight:bold;
}
#content{
	width:100%;
	color:#373737;
	text-align:left;
}
#content a{
	color:#373737;
}
#content .copyctrl{
	color:#ffffff;
}
#tool{
	color:#333333;
	padding:3px;
	height:10px;
	background:#f9f9f9 url();
	border:1px dashed #cccccc;
}
#tool a{
	color:#333333;
}
#page{
	color:#373737;
}
#page a{
	color:#373737;
}
#side{
	float:right;
	width:24%;
	font-weight:normal;
	color:#333333;
	text-align:right;
}
#side a{
	color:#333333;
}
#side .side{
	color:#333333;
	background-color:#f9f9f9;
	border:1px dashed #cccccc;
}
#side .side_head{
	color:#666666;
	text-align:center;
	font-weight:bold;
	padding:3px;
	background:#f1f1f1 url();
}
#side .side_left{
	padding:3px;
	font-size:12px;
	text-align:left;
	color:#333333;
}
#side .side_center{
	padding:2px;
	font-size:12px;
	text-align:center;
	color:#333333;
}
#side .xml{
	font-family: Tahoma, Verdana;
	BORDER:	#8C8E7B	1px	solid;
	background:#FFFFFF;
}
#side .xml a{
	color:#FFFFFF;
}
#side .xml_1{
	background:#FF6500;
	font-size: 7pt;
	color:#ffffff;
}
#side .xml_2{
	background:#8C8E7B;
	font-size: 7pt;
	color:#FFFFFF;
}
#article{
	//height:100%;
	padding:3px;
	color:#373737;
	background:#ffffff	url();
	border:0	solid	;
}
#article a{
	color:#373737;
}
#article .subject{
	font-size:20px;
	font-weight:bold;
	text-align:center;
}
#article .content{
	font-size:14px;
	color:#000000;
}
#article .copyctrl{
	color:#ffffff;
}
#comment{
	padding:4px;
	color:#373737;
	background-color:#ffffff;
	border:1px	dashed	#373737;
}
#album{
	padding:3px;
	color:#858585;
	background:#ffffff;
}
#album td{
	color:#858585;
}
#album a{
	color:#858585;
}
#album .photo{
	background:#f3f3f3;
	border:1px solid	#eeeeee;
}
#footer{
	color:#999999;
}
#footer	a{
	color:#000000;
}
.clear{
	font-size:1px;
	clear: both;
}
</style>
<body>
<br>
<div id="tbody">

		<div id="head">
			<div id="head_left"><a href="blog.php?uid_7.html">西北忆痕(northwest memory)</a></div>
			<div id="head_right">
				<!--二级域名:
				<a href="http://西北忆痕(northwest memory).oss.lzu.edu.cn/blog">http://西北忆痕(northwest memory).oss.lzu.edu.cn/blog</a>-->
				<br>
				<a href="http://oss.lzu.edu.cn/blog/index.php?index.html">首页</a> | 
				<a href="blog.php?do_photo/uid_7.html">相册</a> | 
				<a href="http://oss.lzu.edu.cn/blog/search.php?index.html">搜索</a> | 

				<a href="http://oss.lzu.edu.cn/blog/user_index.php">管理</a>	|
				<a href="http://oss.lzu.edu.cn/blog/login.php?action_quit.html">注销</a>
 
			</div>
		</div>
		<div class="clear"></div>


		<div id="dir" style="table-layout: fixed;word-wrap:	break-word">
			&nbsp; <a href="blog.php?uid_7.html">全部文章</a>

			| <a href="blog.php?uid_7/dirid_1.html">程序设计</a>


			| <a href="blog.php?uid_7/dirid_2.html">数据库</a>


			| <a href="blog.php?uid_7/dirid_3.html">Linux&Unix</a>


			| <a href="blog.php?uid_7/dirid_4.html">转载收藏</a>


			| <a href="blog.php?uid_7/dirid_5.html">生活杂谈</a>


			| <a href="blog.php?uid_7/dirid_6.html">项目相关</a>


			| <a href="blog.php?uid_7/dirid_7.html">嵌入式开发</a>


			| <a href="blog.php?uid_7/dirid_8.html">读书笔记</a>


			| <a href="blog.php?uid_7/dirid_9.html">文章翻译</a>


		</div>
		<br>
		<div id="body">


			<div id="article">
				<div class="subject" style="table-layout: fixed;word-wrap: break-word">
					<b><a href='blog.php?do_showone/tid_1787.html'>用C语言往MySQL中存取二进制数据</a></b>
				</div>
				<div align="center">
					作者: falcon &nbsp; 发表日期: 2008-08-02 20:39 &nbsp;
					<a href="javascript:" title="blog.php?do_showone/tid_1787.html" onclick="clipboardData.setData('Text','blog.php?do_showone/tid_1787.html')">复制链接</a>
				</div>
				<br><br>
				<div class="content" style="table-layout: fixed;word-wrap: break-word">

					<br><span class="content">by falcon &lt;wuzhangjin@gmail&#46;com&gt;<br>2008-08-02<br><br>&nbsp;&nbsp;&nbsp; MySQL有一个二进制数据类型longblob，可以用来存放二进制数据。那么如何对MySQL进行该类数据的存取呢？<br>&nbsp;&nbsp;&nbsp; 通过参考资料[2]（非常感谢该文作者），发现可以直接通过C语言往MySQL中存取二进制数据。<br>&nbsp;&nbsp;&nbsp; 下面先创建一个数据表test，该表的data字段为longblog类型。<br><br><table cellpadding=1 cellspacing=2 border=0 style='border-top: 1px solid #99b; border-bottom: 1px solid #99b;' WIDTH=100% align=center><tr><td bgcolor=#DFEFEF><font color=black><p style='margin-left: 5px; margin-top:3px; margin-bottom:3px;'>$ mysql -u USER -pPASSWD <br>mysql&gt; create database test<br>mysql&gt; use test<br>mysql&gt; create table test(id int, file char(255), data longblob);<br>mysql&gt; quit<br></font></td></tr></table><br><br>&nbsp;&nbsp;&nbsp; 接着，我们来写一个C语言程序，通过该程序往该表的data字段存入一个二进制文件，紧接着从数据库中取出该字段的内容写入另外一个文件中，从而演示longblob数据的存和取操作。<br><br><font color=#1D6DFD>Code:</font><br><TEXTAREA name=textfield rows=10 style='WIDTH:100%;'>
/**
&nbsp;* mysql_binary&#46;c -- store/fetch binary data to/from Mysql
&nbsp;*
&nbsp;* author: falcon &lt;wuzhangjin@gmail&#46;com&gt;
&nbsp;* update: 2008-08-02
&nbsp;* ref&nbsp;&nbsp; : [url]http://wl-zz&#46;com&#46;cn/Art/show&#46;asp?id=6420[/url]
&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [url]http://www&#46;2ed&#46;cn/Article-119-21440&#46;shtml[/url]
&nbsp;*
&nbsp;* compile(in ubuntu 8&#46;10): 
&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $ sudo apt-get install libmysqlclient15-dev
&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $ gcc -o mysql_binary mysql_binary&#46;c -lmysqlclient
&nbsp;* usage:
&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at first, you should create a mysql table like this&#46;
&nbsp;*
&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $ mysql -u USER -pPASSWD 
&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mysql&gt; create database test
&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mysql&gt; use test
&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mysql&gt; create table test(id int, file char(255), data longblob);
&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mysql&gt; quit
&nbsp;*&nbsp;&nbsp;&nbsp; &nbsp; 
&nbsp;*&nbsp;&nbsp;&nbsp; &nbsp; or just execute the following command&#46;
&nbsp;*&nbsp;&nbsp;&nbsp; &nbsp; $ echo "create database test;use test;create table test(id int, file char(255), data longblob);" \
&nbsp;*&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; mysql -u USER -pPASSWD
&nbsp;* &nbsp;&nbsp;&nbsp; 
&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; and then, store a binary file(input) to mysql and fetch it from mysql to output
&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $ &#46;/mysql_binary input_binary_file output_binary_file
&nbsp;* note: 
&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; this source code is based on the source code in [url]http://wl-zz&#46;com&#46;cn/Art/show&#46;asp?id=6420[/url]
&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; here just fix some bugs and make some modification&#46;
&nbsp;*/

#include &lt;stdio&#46;h&gt;
#include &lt;mysql/mysql&#46;h&gt;
#include &lt;stdlib&#46;h&gt;
#include &lt;sys/types&#46;h&gt;
#include &lt;sys/stat&#46;h&gt;
#include &lt;fcntl&#46;h&gt;

#define host&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "localhost"
#define username&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "root"
#define password&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ""&nbsp;&nbsp;&nbsp; /* set the password of the root user here */
#define database&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "test"

int main(int argc, char *argv[])
{
&nbsp;&nbsp;&nbsp; MYSQL *conn;
&nbsp;&nbsp;&nbsp; MYSQL_RES *res_set;
&nbsp;&nbsp;&nbsp; MYSQL_ROW row;
&nbsp;&nbsp;&nbsp; MYSQL_FIELD *field;

&nbsp;&nbsp;&nbsp; char ibf[255] = "", obf[255] = "";&nbsp;&nbsp;&nbsp; /*input binary file, output binary file */
&nbsp;&nbsp;&nbsp; struct stat file_stats;
&nbsp;&nbsp;&nbsp; off_t size;
&nbsp;&nbsp;&nbsp; char *buf;
&nbsp;&nbsp;&nbsp; int i, flag;
&nbsp;&nbsp;&nbsp; char *sql;
&nbsp;&nbsp;&nbsp; FILE *fp;
&nbsp;&nbsp;&nbsp; int n = 0;
&nbsp;&nbsp;&nbsp; char *end;
&nbsp;&nbsp;&nbsp; unsigned long *length;

&nbsp;&nbsp;&nbsp; /* get user's input */
&nbsp;&nbsp;&nbsp; if (argc != 3) {
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; printf("Usage: %s input_binary_file output_binary_file\n",
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; argv[0]);
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; return -1;
&nbsp;&nbsp;&nbsp; }
&nbsp;&nbsp;&nbsp; sprintf(ibf, "%s", argv[1]);
&nbsp;&nbsp;&nbsp; sprintf(obf, "%s", argv[2]);

&nbsp;&nbsp;&nbsp; /* get the size of the input binary file */
&nbsp;&nbsp;&nbsp; if (stat(ibf, &amp;file_stats))
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; return -1;
&nbsp;&nbsp;&nbsp; size = file_stats&#46;st_size;

&nbsp;&nbsp;&nbsp; /* allocate a "size" of space to a buffer: buf */
&nbsp;&nbsp;&nbsp; if ((buf = (char *) malloc(sizeof(char) * (size + 1))) == NULL) {
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; perror("malloc buf");
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; exit(1);
&nbsp;&nbsp;&nbsp; }

&nbsp;&nbsp;&nbsp; /* open the input binary file and copy it to the buffer */
&nbsp;&nbsp;&nbsp; if ((fp = fopen(ibf, "rb")) == NULL) {
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; perror("fopen file");
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; exit(1);
&nbsp;&nbsp;&nbsp; }

&nbsp;&nbsp;&nbsp; if ((n = fread(buf, 1, size, fp)) &lt; 0) {&nbsp;&nbsp;&nbsp; //n=size
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; perror("fread file");
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; exit(1);
&nbsp;&nbsp;&nbsp; }

&nbsp;&nbsp;&nbsp; fclose(fp);
&nbsp;&nbsp;&nbsp; fp = NULL;

&nbsp;&nbsp;&nbsp; /* allocate a memory space to the SQL statement, it need to big enough to store the whole input binary file */
&nbsp;&nbsp;&nbsp; sql = (char *) malloc(sizeof(char) * n * 2 + 256);&nbsp;&nbsp;&nbsp; //2n+1+strlen(other sql)
&nbsp;&nbsp;&nbsp; if (sql == NULL) {
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; perror("malloc sql");
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; exit(1);
&nbsp;&nbsp;&nbsp; }

&nbsp;&nbsp;&nbsp; /* initilize connection to mysql */
&nbsp;&nbsp;&nbsp; conn = mysql_init(NULL);
&nbsp;&nbsp;&nbsp; if (conn == NULL) {
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; printf("init mysql, %s\n", mysql_error(conn));
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; exit(1);
&nbsp;&nbsp;&nbsp; }

&nbsp;&nbsp;&nbsp; /* build the SQL statement for storing the input binary file to mysql */
&nbsp;&nbsp;&nbsp; sprintf(sql, "insert into test(id, file, data) values(5, '%s',",
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; ibf);
&nbsp;&nbsp;&nbsp; end = sql;
&nbsp;&nbsp;&nbsp; end += strlen(sql);&nbsp;&nbsp;&nbsp; //point sql tail

&nbsp;&nbsp;&nbsp; //convert NUL(ASCII 0)、'\n'、'\r'、'\'’、'''、'"', Control-Z and so on
&nbsp;&nbsp;&nbsp; *end++ = '\'';
&nbsp;&nbsp;&nbsp; end += mysql_real_escape_string(conn, end, buf, n);
&nbsp;&nbsp;&nbsp; *end++ = '\'';
&nbsp;&nbsp;&nbsp; *end++ = ')';

&nbsp;&nbsp;&nbsp; free(buf);
&nbsp;&nbsp;&nbsp; buf = NULL;

&nbsp;&nbsp;&nbsp; /* connect to mysql with indicated host, username, password and database */
&nbsp;&nbsp;&nbsp; if ((mysql_real_connect
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; (conn, host, username, password, database, 0, NULL,
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0)) == NULL) {
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; printf("connect mysql, %s\n", mysql_error(conn));
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; exit(1);
&nbsp;&nbsp;&nbsp; }

&nbsp;&nbsp;&nbsp; /* execute the built SQL statement to store the input binary file to MySQL */
&nbsp;&nbsp;&nbsp; flag = mysql_real_query(conn, sql, (unsigned int) (end - sql));
&nbsp;&nbsp;&nbsp; if (flag != 0) {
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; printf("insert failed, %s\n", mysql_error(conn));
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; exit(1);
&nbsp;&nbsp;&nbsp; }

&nbsp;&nbsp;&nbsp; /* fetch the binary data from MySQL to a file */
&nbsp;&nbsp;&nbsp; if ((mysql_real_query
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; (conn, "select data from test where id=5",
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; strlen("select data from test where id=5")))
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; != 0) {
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; printf("select failed, %s\n", mysql_error(conn));
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; exit(1);
&nbsp;&nbsp;&nbsp; }

&nbsp;&nbsp;&nbsp; res_set = mysql_store_result(conn);

&nbsp;&nbsp;&nbsp; fp = fopen(obf, "wb");
&nbsp;&nbsp;&nbsp; while ((row = mysql_fetch_row(res_set)) != NULL) {
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; length = mysql_fetch_lengths(res_set);
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; for (i = 0; i &lt; mysql_num_fields(res_set); i++) {
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; fwrite(row[0], 1, length[0], fp);
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }
&nbsp;&nbsp;&nbsp; }

&nbsp;&nbsp;&nbsp; fclose(fp);
&nbsp;&nbsp;&nbsp; mysql_close(conn);
&nbsp;&nbsp;&nbsp; free(sql);
&nbsp;&nbsp;&nbsp; sql = NULL;

&nbsp;&nbsp;&nbsp; return 0;
}
</textarea><br><font color=#FD6D1D>[Ctrl+A Select All]</font><br><br>&nbsp;&nbsp;&nbsp; 通过分析源代码不难发现，这里跟存取普通的数据差不多，只是通过mysql_real_escape_string函数在二进制数据外面加了一层“东西”。<br>&nbsp;&nbsp;&nbsp; okay，开始编译和运行。<br>&nbsp;&nbsp;&nbsp; 记得编译之前需要安装对应的mysql函数库，在ubuntu 8&#46;10下可以这么安装。<br><table cellpadding=1 cellspacing=2 border=0 style='border-top: 1px solid #99b; border-bottom: 1px solid #99b;' WIDTH=100% align=center><tr><td bgcolor=#DFEFEF><font color=black><p style='margin-left: 5px; margin-top:3px; margin-bottom:3px;'>$ sudo apt-get install libmysqlclient15-dev<br></font></td></tr></table><br>&nbsp;&nbsp;&nbsp; 编译前还需要设置数据库名、表名、用户名和密码，否则编译后无法正常连接数据库。<br>&nbsp;&nbsp;&nbsp; 下面开始编译。<br><table cellpadding=1 cellspacing=2 border=0 style='border-top: 1px solid #99b; border-bottom: 1px solid #99b;' WIDTH=100% align=center><tr><td bgcolor=#DFEFEF><font color=black><p style='margin-left: 5px; margin-top:3px; margin-bottom:3px;'>$ gcc -o mysql_binary mysql_binary&#46;c -lmysqlclient<br></font></td></tr></table><br>&nbsp;&nbsp;&nbsp; 运行一下，<br><table cellpadding=1 cellspacing=2 border=0 style='border-top: 1px solid #99b; border-bottom: 1px solid #99b;' WIDTH=100% align=center><tr><td bgcolor=#DFEFEF><font color=black><p style='margin-left: 5px; margin-top:3px; margin-bottom:3px;'>//先删除之前的数据<br>$ echo "delete from test;" | mysql -u USER -pPASSWD test<br>// 复制一份mysql_binary为mysql_binary_copy<br>$ &#46;/mysql_binary mysql_binary mysql_binary_copy<br>//可以看到两个大小是一样的<br>$&nbsp; ls -l mysql_binary mysql_binary_copy <br>-rwxr-xr-x 1 falcon falcon 10831 2008-08-02 20:55 mysql_binary<br>-rw-r--r-- 1 falcon falcon 10831 2008-08-02 20:57 mysql_binary_copy<br></font></td></tr></table><br><br>&nbsp;&nbsp;&nbsp; 实际上在postgresql中也可以进行二进制文件的操作，不过不是很方便，如果感兴趣可以参考一下资料[3,4,5,6,7]。<br><br>参考和推荐资料<br><br>[1] MYSQL中如何存取二进制文件(PHP版)<br><a href='http://net&#46;stuun&#46;com/database/MySQL/jiqiao/45070&#46;html' target=_blank>http://net&#46;stuun&#46;com/database/MySQL/jiqiao/45070&#46;html</a><br>[2] C语言实现myql中存取二进制文件<br><a href='http://linux&#46;chinaitlab&#46;com/MYSQL/383265&#46;html' target=_blank>http://linux&#46;chinaitlab&#46;com/MYSQL/383265&#46;html</a><br>[3] Storing Binary Data<br><a href='http://jdbc&#46;postgresql&#46;org/documentation/80/binary-data&#46;html' target=_blank>http://jdbc&#46;postgresql&#46;org/documentation/80/binary-data&#46;html</a><br>[4] Chapter 31&#46; Large Objects<br><a href='http://www&#46;postgresql&#46;org/docs/8&#46;3/interactive/largeobjects&#46;html' target=_blank>http://www&#46;postgresql&#46;org/docs/8&#46;3/interactive/largeobjects&#46;html</a><br>[5] PostgreSQL libpq Programming Example<br><a href='http://www&#46;hungryhacker&#46;com/articles/code/libpq_example&#46;html' target=_blank>http://www&#46;hungryhacker&#46;com/articles/code/libpq_example&#46;html</a><br>[6] ECPG - Embedded SQL in C<br><a href='http://www&#46;postgresql&#46;org/docs/7&#46;4/static/ecpg&#46;html' target=_blank>http://www&#46;postgresql&#46;org/docs/7&#46;4/static/ecpg&#46;html</a><br>[7] Linux下免费数据库PostgreSQL开发入门<br><a href='http://www-128&#46;ibm&#46;com/developerworks/cn/linux/l-pgsql/index&#46;html' target=_blank>http://www-128&#46;ibm&#46;com/developerworks/cn/linux/l-pgsql/index&#46;html</a><br></span>

				</div>
				<br><br>
				<div>
					<div style="float:left">
						<a href='blog.php?do_showone/tid_1787.html'>
							阅读全文(88)
						</a> | 
						<a href='blog.php?do_showone/tid_1787.html#comment'>
							回复(1)
						</a> | 
						<a href='user_index.php?action=push&tid=1787'>推送</a>

					</div>
					<div style="float:right">
						欢迎到 <a href="blog.php?uid_7.html">falcon</a> 的个人主页看更多内容
					</div>
				</div>
			</div>
			<br>
			<div>
				<br><br>
				<div>  &nbsp; 共1条回复</div>

				<div id="comment" style="table-layout: fixed;word-wrap: break-word">
					<div>
						<div style="float:left;">
							<i>guest 发表于 2008-09-09 15:58</i>
						</div>
						<div style="float:right;">

							<i>#1</i>

						</div>
					</div>
					<div class="clear"></div>
					<br>
					<div>再附一篇文章：<br><br>MySQL中的二进制数据的存取  <br>http://www.sudu.cn/info/html/edu/C/20080403/261004.html<br></div>
					<div align="right">
						<a href="javascript:scroll(0,0)">返回</a>
					</div>
				</div>
				<br>

				<div> </div>

				<br><br>

				<a name='comment'>
				<form action='comment.php?' method='post' name='form1' id='form1' onSubmit='return commentcheck();'>
				<input type='hidden' name='action' value='comment'>
				<input type='hidden' name='tid' value='1787'>
				<div><b>发表评论</b></div>
				<div><textarea name='content' rows=11 cols=65></textarea></div>
				<br>
<table border=0 align=center>
<tr><td>
<font size=4>请输入验证码</font>:
<input type='text' name=check size=10>
</td><td>
<!--<img src="http://oss.lzu.edu.cn/blog/check_code/code.php"></img>-->
<script src=http://oss.lzu.edu.cn/blog/check_code/code.php></script>
</td></tr>
</table><br>
				<center><input name='submit' type='submit' value='提 交'></center>
				</form>
				<br>

<script language=javascript>
function commentcheck()
{
	if(document.form1.content.value == "")
	{
		alert("评论内容为空!");
		document.form1.content.focus();
		return false;
	}
}
</script>



			</div>


		<div class="clear"></div>
		</div>
</div>
<br>
<br>
<div id="footer">
	<center>
		<small>
			Powered by 
			<a href="http://www.phpwind.net/" target="_blank"><b>PHPWind</b></a> 
			<a href="http://www.phpwind.net/" target="_blank"><b style="color:#FF9900">v4.0.1</b></a>
			Code &copy; 2003-04 
			<a href="http://www.phpwind.net/" target="_blank"><b>PHPWind</b></a> 
			<br>
			 Gzip disabled
			<br><br>
			You can  
			<a href='http://oss.lzu.edu.cn/modules/wfchannel'>contact us</a>
		</small>
	</center>
</div>
</body>
</html>
